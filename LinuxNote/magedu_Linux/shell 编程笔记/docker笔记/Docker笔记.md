# Docker 入门和实践
## Docker 基础概念：
### 镜像（Image）
#### 简述
对于 Linux 而言，内核启动之后，会挂载 root 文件系统来提供空间支持。Docker 镜像就属于特殊的文件系统，相当于一个 root 文件系统。

Docker 在设计时，使用 `Union FS` 的技术，将其设计为分层存储的架构。所以 Docker 中的镜像与传统意义上的镜像并非完全一样，Dcoker 的镜像在这里是一个虚拟的概念，具体来说，它由一组或多组文件系统联合组成
#### 特点：分层存储
Docker 在进行镜像构建时，会 **逐层进行构建** ，前一层是后一层的基础，每一层构建完成后不会发生改变，后一层上发生的任何改变不会影响其他层。

比如在后一层上进行文件删除操作，**仅是在当前层把被删除文件标记为已删除** ，在容器运行的时候不会显示已删除的文件。但在前一层上，文件依旧在，而且会一直跟随镜像存在

分层存储的特征简化了镜像的 **复用** 和 **定制**。甚至可以选择之前构建好的镜像作为基础层，然后添加需要的内容做为新的层。
### 容器（Container）
#### 简述
容器的实质是进程，与直接在宿主执行的进程不同，容器进程运行于自己的命名空间。

因此容器拥有良好的隔离性，容器也有自己的文件系统、网络配置、进程空间、甚至是用户的 ID 空间。

因为容器的沙箱特性，使用容器封装的应用要比直接运行在宿主机上有更高的安全性

#### 容器和虚拟机
容器和虚拟机同属虚拟化技术，内里的技术却存在截然不同的实现：
1. 资源方面

    - 传统的虚拟机需要模拟整台计算机硬件，需要有自己的操作系统、系统库和应用。一旦开启，分配的资源将会被全部占用。

    - 容器则是与宿主机共享硬件资源、操作系统，资源动态分配，容器包含所有依赖包和自己的应用。多个容器将共享内核，在宿主机中以分离的进程运行

2. 虚拟化层面
    - 传统的虚拟机实现了对硬件资源的虚拟，容器技术则是对进程的虚拟
3. 架构方面
    - 传统虚拟机使用 `Hypervisor` 技术来进行虚拟化，`Hypervisor` 管理虚拟机的操作系统运行 
    - Docker 使用 `Docker Engine` 完成资源的调度和进程的隔离
4. 使用情况层面
    - 传统虚拟机能提供更安全的隔离环境，能够完成一致的生产环境交付，
    - Docker 更轻量级，通过 `Dockerfile` 记录容器的构建过程，来完成集群内的快速分发和快速部署 
#### 容器存储层

### 仓库（Repository）